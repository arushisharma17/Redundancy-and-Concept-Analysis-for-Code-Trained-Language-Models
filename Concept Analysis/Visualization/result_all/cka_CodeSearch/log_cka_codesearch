Generate svg files for BERT
Loading json activations from /work/LAS/jannesar-lab/arushi/Interpretability/interpretability-of-source-code-transformers/NL-Code-Search/NL-code-search-WebQuery/data/activations/bert/train_activations.json...
20000 13.0
Length of BERT activations: 20000
The number of neurons for each token in BERT: 9984
Total number of tokens:20000
hsic_matrix:
[[1.         0.88759639 0.79675759 0.71760409 0.64239078 0.57833486
  0.51428957 0.48037325 0.44905161 0.42590918 0.40779682 0.40004789
  0.38771699]
 [0.88759639 1.         0.89594974 0.80537798 0.71918565 0.63893271
  0.57722663 0.521573   0.47775271 0.44372429 0.42627623 0.41346959
  0.39559755]
 [0.79675759 0.89594974 1.         0.89629615 0.79953985 0.71038871
  0.63111564 0.56867338 0.51242289 0.47400339 0.45453072 0.43492928
  0.41200167]
 [0.71760409 0.80537798 0.89629615 1.         0.89132461 0.79231113
  0.7028933  0.63426075 0.57439421 0.52238654 0.49018767 0.46372308
  0.43853539]
 [0.64239078 0.71918565 0.79953985 0.89132461 1.         0.89694161
  0.79664825 0.70601192 0.63431196 0.57279749 0.53492324 0.49901746
  0.470897  ]
 [0.57833486 0.63893271 0.71038871 0.79231113 0.89694161 1.
  0.88878427 0.78957964 0.7117753  0.64104031 0.59067428 0.5354543
  0.49590173]
 [0.51428957 0.57722663 0.63111564 0.7028933  0.79664825 0.88878427
  1.         0.88573098 0.80355079 0.71862468 0.66068458 0.59699302
  0.54019463]
 [0.48037325 0.521573   0.56867338 0.63426075 0.70601192 0.78957964
  0.88573098 1.         0.89557689 0.80088185 0.71899709 0.64981514
  0.5820509 ]
 [0.44905161 0.47775271 0.51242289 0.57439421 0.63431196 0.7117753
  0.80355079 0.89557689 1.         0.89394178 0.79252657 0.72062903
  0.64816049]
 [0.42590918 0.44372429 0.47400339 0.52238654 0.57279749 0.64104031
  0.71862468 0.80088185 0.89394178 1.         0.88813828 0.78397739
  0.69713528]
 [0.40779682 0.42627623 0.45453072 0.49018767 0.53492324 0.59067428
  0.66068458 0.71899709 0.79252657 0.88813828 1.         0.88378281
  0.78351331]
 [0.40004789 0.41346959 0.43492928 0.46372308 0.49901746 0.5354543
  0.59699302 0.64981514 0.72062903 0.78397739 0.88378281 1.
  0.87904427]
 [0.38771699 0.39559755 0.41200167 0.43853539 0.470897   0.49590173
  0.54019463 0.5820509  0.64816049 0.69713528 0.78351331 0.87904427
  1.        ]]
-----------------------------------------------------------------
Generate svg files for CodeBERT
Loading json activations from /work/LAS/jannesar-lab/arushi/Interpretability/interpretability-of-source-code-transformers/NL-Code-Search/NL-code-search-WebQuery/data/activations/codebert/train_activations.json...
20000 13.0
Length of CodeBERT activations: 20000
The number of neurons for each token in CodeBERT: 9984
Total number of tokens:20000
hsic_matrix:
[[1.         0.90897404 0.82914698 0.73998012 0.6518476  0.57059524
  0.50858181 0.46313698 0.44242851 0.41836431 0.40882178 0.39630679
  0.39476694]
 [0.90897404 1.         0.91390456 0.81585967 0.71674346 0.62611443
  0.55116636 0.49549463 0.46499989 0.43212388 0.41921137 0.40503861
  0.40516975]
 [0.82914698 0.91390456 1.         0.90464049 0.8008686  0.70155426
  0.61362842 0.53927802 0.49897016 0.45562289 0.4384296  0.42044345
  0.41850097]
 [0.73998012 0.81585967 0.90464049 1.         0.89826583 0.79597735
  0.7011929  0.61213535 0.55318078 0.50194346 0.47719534 0.4505836
  0.44717411]
 [0.6518476  0.71674346 0.8008686  0.89826583 1.         0.89203524
  0.79233828 0.69791349 0.62846431 0.56039193 0.52680283 0.48961208
  0.48278608]
 [0.57059524 0.62611443 0.70155426 0.79597735 0.89203524 1.
  0.89145408 0.7874855  0.70375088 0.63032796 0.57373389 0.52528075
  0.50523777]
 [0.50858181 0.55116636 0.61362842 0.7011929  0.79233828 0.89145408
  1.         0.88741163 0.78177237 0.69875037 0.63945085 0.58156986
  0.55381521]
 [0.46313698 0.49549463 0.53927802 0.61213535 0.69791349 0.7874855
  0.88741163 1.         0.88478353 0.78669974 0.71123222 0.64535749
  0.60255424]
 [0.44242851 0.46499989 0.49897016 0.55318078 0.62846431 0.70375088
  0.78177237 0.88478353 1.         0.8828201  0.80176307 0.71118338
  0.6537182 ]
 [0.41836431 0.43212388 0.45562289 0.50194346 0.56039193 0.63032796
  0.69875037 0.78669974 0.8828201  1.         0.88878016 0.79260336
  0.71309662]
 [0.40882178 0.41921137 0.4384296  0.47719534 0.52680283 0.57373389
  0.63945085 0.71123222 0.80176307 0.88878016 1.         0.88250857
  0.7932653 ]
 [0.39630679 0.40503861 0.42044345 0.4505836  0.48961208 0.52528075
  0.58156986 0.64535749 0.71118338 0.79260336 0.88250857 1.
  0.88885639]
 [0.39476694 0.40516975 0.41850097 0.44717411 0.48278608 0.50523777
  0.55381521 0.60255424 0.6537182  0.71309662 0.7932653  0.88885639
  1.        ]]
-----------------------------------------------------------------
Generate svg files for GraphCodeBERT
Loading json activations from /work/LAS/jannesar-lab/arushi/Interpretability/interpretability-of-source-code-transformers/NL-Code-Search/NL-code-search-WebQuery/data/activations/graphcodebert/train_activations.json...
20000 13.0
Length of GraphCodeBERT activations: 20000
The number of neurons for each token in GraphCodeBERT: 9984
Total number of tokens:20000
hsic_matrix:
[[1.         0.90492446 0.82137031 0.73660165 0.63999211 0.55668714
  0.49507027 0.45217793 0.43625253 0.41121515 0.40281494 0.3948765
  0.39818295]
 [0.90492446 1.         0.91172935 0.81771196 0.71304599 0.62884673
  0.55089003 0.49578559 0.46953425 0.43347842 0.42170357 0.41121836
  0.41287928]
 [0.82137031 0.91172935 1.         0.90618022 0.79914495 0.70730976
  0.61557782 0.55037236 0.51515765 0.46639022 0.44883981 0.43285015
  0.43113253]
 [0.73660165 0.81771196 0.90618022 1.         0.8891737  0.79159787
  0.69316225 0.61802048 0.56644387 0.50601942 0.48438875 0.4595948
  0.45378082]
 [0.63999211 0.71304599 0.79914495 0.8891737  1.         0.8975177
  0.78935763 0.70332856 0.64112921 0.56205477 0.52862562 0.49538291
  0.48019543]
 [0.55668714 0.62884673 0.70730976 0.79159787 0.8975177  1.
  0.88968792 0.79442793 0.71939218 0.63277862 0.57549162 0.536626
  0.51151205]
 [0.49507027 0.55089003 0.61557782 0.69316225 0.78935763 0.88968792
  1.         0.89367011 0.79787705 0.70008027 0.63448958 0.58381195
  0.55306555]
 [0.45217793 0.49578559 0.55037236 0.61802048 0.70332856 0.79442793
  0.89367011 1.         0.88624335 0.77427018 0.70216272 0.64300972
  0.5916798 ]
 [0.43625253 0.46953425 0.51515765 0.56644387 0.64112921 0.71939218
  0.79787705 0.88624335 1.         0.86892132 0.78072181 0.71343343
  0.65101698]
 [0.41121515 0.43347842 0.46639022 0.50601942 0.56205477 0.63277862
  0.70008027 0.77427018 0.86892132 1.         0.8769145  0.78544905
  0.71764083]
 [0.40281494 0.42170357 0.44883981 0.48438875 0.52862562 0.57549162
  0.63448958 0.70216272 0.78072181 0.8769145  1.         0.885563
  0.80735644]
 [0.3948765  0.41121836 0.43285015 0.4595948  0.49538291 0.536626
  0.58381195 0.64300972 0.71343343 0.78544905 0.885563   1.
  0.88397575]
 [0.39818295 0.41287928 0.43113253 0.45378082 0.48019543 0.51151205
  0.55306555 0.5916798  0.65101698 0.71764083 0.80735644 0.88397575
  1.        ]]
-----------------------------------------------------------------
Generate svg files for CodeGPTJava
Loading json activations from /work/LAS/jannesar-lab/arushi/Interpretability/interpretability-of-source-code-transformers/NL-Code-Search/NL-code-search-WebQuery/data/activations/codegpt/java-original/train_activations.json...
20000 13.0
Length of CodeGPTJava activations: 20000
The number of neurons for each token in CodeGPTJava: 9984
Total number of tokens:20000
hsic_matrix:
[[1.         0.18690456 0.22889783 0.25380679 0.26679381 0.27308146
  0.27832555 0.28197864 0.28392483 0.28568391 0.28694765 0.2881339
  0.28982988]
 [0.18690456 1.         0.50436338 0.37043673 0.3312104  0.3134761
  0.30023374 0.28325915 0.27696572 0.27504641 0.27226069 0.26743216
  0.26641596]
 [0.22889783 0.50436338 1.         0.75254469 0.64688826 0.58436002
  0.5293101  0.48659936 0.46735665 0.44980502 0.43784566 0.42389012
  0.4144355 ]
 [0.25380679 0.37043673 0.75254469 1.         0.8698379  0.78683778
  0.71901774 0.66382467 0.63707061 0.61283256 0.59556542 0.57661628
  0.5591195 ]
 [0.26679381 0.3312104  0.64688826 0.8698379  1.         0.91737522
  0.85364701 0.79762662 0.76366772 0.73676588 0.71239816 0.69715417
  0.67640868]
 [0.27308146 0.3134761  0.58436002 0.78683778 0.91737522 1.
  0.9374315  0.88583722 0.84822862 0.82288649 0.79549925 0.77615292
  0.75404242]
 [0.27832555 0.30023374 0.5293101  0.71901774 0.85364701 0.9374315
  1.         0.95479885 0.92136861 0.89571756 0.86990343 0.84686989
  0.82383908]
 [0.28197864 0.28325915 0.48659936 0.66382467 0.79762662 0.88583722
  0.95479885 1.         0.96783498 0.94510841 0.9218686  0.89739445
  0.87522671]
 [0.28392483 0.27696572 0.46735665 0.63707061 0.76366772 0.84822862
  0.92136861 0.96783498 1.         0.97670626 0.9533313  0.93159308
  0.90948804]
 [0.28568391 0.27504641 0.44980502 0.61283256 0.73676588 0.82288649
  0.89571756 0.94510841 0.97670626 1.         0.98096167 0.96090723
  0.94075082]
 [0.28694765 0.27226069 0.43784566 0.59556542 0.71239816 0.79549925
  0.86990343 0.9218686  0.9533313  0.98096167 1.         0.98452662
  0.96772922]
 [0.2881339  0.26743216 0.42389012 0.57661628 0.69715417 0.77615292
  0.84686989 0.89739445 0.93159308 0.96090723 0.98452662 1.
  0.98537506]
 [0.28982988 0.26641596 0.4144355  0.5591195  0.67640868 0.75404242
  0.82383908 0.87522671 0.90948804 0.94075082 0.96772922 0.98537506
  1.        ]]
-----------------------------------------------------------------
Generate svg files for CodeGPTPy
Loading json activations from /work/LAS/jannesar-lab/arushi/Interpretability/interpretability-of-source-code-transformers/NL-Code-Search/NL-code-search-WebQuery/data/activations/codegpt/python-original/train_activations.json...
20000 13.0
Length of CodeGPTPy activations: 20000
The number of neurons for each token in CodeGPTPy: 9984
Total number of tokens:20000
hsic_matrix:
[[1.         0.17527295 0.21362789 0.23888237 0.25710708 0.26854652
  0.27537036 0.28002074 0.28344127 0.28617689 0.28784197 0.28938215
  0.29128284]
 [0.17527295 1.         0.53565913 0.39563586 0.33780733 0.3006074
  0.28656794 0.2728766  0.26115055 0.2520081  0.24696125 0.24355615
  0.24233753]
 [0.21362789 0.53565913 1.         0.73061509 0.61076175 0.53463418
  0.4969517  0.45868582 0.42561128 0.40662911 0.39536985 0.38534228
  0.37799114]
 [0.23888237 0.39563586 0.73061509 1.         0.84830365 0.75862156
  0.69645559 0.63809759 0.5944144  0.56070644 0.5417072  0.52791796
  0.51291231]
 [0.25710708 0.33780733 0.61076175 0.84830365 1.         0.90234055
  0.83545521 0.77485067 0.72459815 0.68530781 0.66263707 0.6440037
  0.62535317]
 [0.26854652 0.3006074  0.53463418 0.75862156 0.90234055 1.
  0.93715469 0.88231752 0.83366448 0.79199026 0.76556844 0.74782483
  0.72577916]
 [0.27537036 0.28656794 0.4969517  0.69645559 0.83545521 0.93715469
  1.         0.95329831 0.9084693  0.86890806 0.84016379 0.82109411
  0.79810681]
 [0.28002074 0.2728766  0.45868582 0.63809759 0.77485067 0.88231752
  0.95329831 1.         0.96388563 0.93015486 0.90286887 0.88370904
  0.86286494]
 [0.28344127 0.26115055 0.42561128 0.5944144  0.72459815 0.83366448
  0.9084693  0.96388563 1.         0.97067088 0.94588896 0.92768885
  0.90640167]
 [0.28617689 0.2520081  0.40662911 0.56070644 0.68530781 0.79199026
  0.86890806 0.93015486 0.97067088 1.         0.97769799 0.96044385
  0.94143819]
 [0.28784197 0.24696125 0.39536985 0.5417072  0.66263707 0.76556844
  0.84016379 0.90286887 0.94588896 0.97769799 1.         0.98401886
  0.96509851]
 [0.28938215 0.24355615 0.38534228 0.52791796 0.6440037  0.74782483
  0.82109411 0.88370904 0.92768885 0.96044385 0.98401886 1.
  0.98384318]
 [0.29128284 0.24233753 0.37799114 0.51291231 0.62535317 0.72577916
  0.79810681 0.86286494 0.90640167 0.94143819 0.96509851 0.98384318
  1.        ]]
-----------------------------------------------------------------
Generate svg files for RoBERTa
Loading json activations from /work/LAS/jannesar-lab/arushi/Interpretability/interpretability-of-source-code-transformers/NL-Code-Search/NL-code-search-WebQuery/data/activations/roberta/train_activations.json...
20000 13.0
Length of RoBERTa activations: 20000
The number of neurons for each token in RoBERTa: 9984
Total number of tokens:20000
hsic_matrix:
[[1.         0.90481736 0.81839761 0.7359604  0.63826863 0.55775959
  0.50465934 0.45503366 0.42715677 0.40787936 0.39538348 0.39093471
  0.39200074]
 [0.90481736 1.         0.90910527 0.81649024 0.71337421 0.63194146
  0.56021103 0.50148161 0.46294243 0.43178943 0.41371712 0.40821433
  0.40795225]
 [0.81839761 0.90910527 1.         0.90850907 0.8035333  0.71550588
  0.63395015 0.56595987 0.51594485 0.47060763 0.4440001  0.43161212
  0.43135797]
 [0.7359604  0.81649024 0.90850907 1.         0.89186883 0.79789658
  0.71023863 0.63176497 0.56745189 0.51120394 0.48317948 0.46199989
  0.45560267]
 [0.63826863 0.71337421 0.8035333  0.89186883 1.         0.89886543
  0.80083411 0.71969656 0.64343209 0.5702471  0.52799199 0.49957276
  0.48959937]
 [0.55775959 0.63194146 0.71550588 0.79789658 0.89886543 1.
  0.89420901 0.80330769 0.71092614 0.63448095 0.56559747 0.52759111
  0.50455538]
 [0.50465934 0.56021103 0.63395015 0.71023863 0.80083411 0.89420901
  1.         0.89403829 0.78145015 0.69938421 0.62518314 0.5772298
  0.5487423 ]
 [0.45503366 0.50148161 0.56595987 0.63176497 0.71969656 0.80330769
  0.89403829 1.         0.8802044  0.77393983 0.69140806 0.63073665
  0.5895679 ]
 [0.42715677 0.46294243 0.51594485 0.56745189 0.64343209 0.71092614
  0.78145015 0.8802044  1.         0.87186161 0.77892906 0.70212592
  0.64728462]
 [0.40787936 0.43178943 0.47060763 0.51120394 0.5702471  0.63448095
  0.69938421 0.77393983 0.87186161 1.         0.87468287 0.77354434
  0.70820081]
 [0.39538348 0.41371712 0.4440001  0.48317948 0.52799199 0.56559747
  0.62518314 0.69140806 0.77892906 0.87468287 1.         0.87728632
  0.79264439]
 [0.39093471 0.40821433 0.43161212 0.46199989 0.49957276 0.52759111
  0.5772298  0.63073665 0.70212592 0.77354434 0.87728632 1.
  0.8880992 ]
 [0.39200074 0.40795225 0.43135797 0.45560267 0.48959937 0.50455538
  0.5487423  0.5895679  0.64728462 0.70820081 0.79264439 0.8880992
  1.        ]]
-----------------------------------------------------------------
Generate svg files for UniXCoder
Loading json activations from /work/LAS/jannesar-lab/arushi/Interpretability/interpretability-of-source-code-transformers/NL-Code-Search/NL-code-search-WebQuery/data/activations/unixcoder/train_activations.json...
20000 13.0
Length of UniXCoder activations: 20000
The number of neurons for each token in UniXCoder: 9984
Total number of tokens:20000
hsic_matrix:
[[1.         0.91396355 0.81543395 0.7421046  0.67588229 0.61741877
  0.55262343 0.50806701 0.46321908 0.43417248 0.42714302 0.41146881
  0.40466147]
 [0.91396355 1.         0.89687675 0.81152884 0.74151391 0.67330485
  0.60340102 0.54791792 0.50279896 0.46315246 0.45667902 0.43156335
  0.42159615]
 [0.81543395 0.89687675 1.         0.90370889 0.81759416 0.73297982
  0.65962809 0.59572874 0.53954952 0.49395468 0.48219467 0.45367412
  0.44229675]
 [0.7421046  0.81152884 0.90370889 1.         0.90596493 0.82116395
  0.73971282 0.66619016 0.59927501 0.54842938 0.53117394 0.49125027
  0.47229569]
 [0.67588229 0.74151391 0.81759416 0.90596493 1.         0.90103602
  0.80763835 0.72215203 0.64651518 0.58457792 0.56382093 0.51217179
  0.49199136]
 [0.61741877 0.67330485 0.73297982 0.82116395 0.90103602 1.
  0.89488505 0.78952754 0.69846632 0.62605569 0.5906757  0.53873775
  0.5146705 ]
 [0.55262343 0.60340102 0.65962809 0.73971282 0.80763835 0.89488505
  1.         0.88861256 0.79158944 0.71204968 0.65671634 0.59396061
  0.55772647]
 [0.50806701 0.54791792 0.59572874 0.66619016 0.72215203 0.78952754
  0.88861256 1.         0.88649072 0.78661941 0.71225594 0.64347313
  0.60038386]
 [0.46321908 0.50279896 0.53954952 0.59927501 0.64651518 0.69846632
  0.79158944 0.88649072 1.         0.89917447 0.80148159 0.714248
  0.66376155]
 [0.43417248 0.46315246 0.49395468 0.54842938 0.58457792 0.62605569
  0.71204968 0.78661941 0.89917447 1.         0.89052731 0.79049969
  0.7281383 ]
 [0.42714302 0.45667902 0.48219467 0.53117394 0.56382093 0.5906757
  0.65671634 0.71225594 0.80148159 0.89052731 1.         0.8800597
  0.79183809]
 [0.41146881 0.43156335 0.45367412 0.49125027 0.51217179 0.53873775
  0.59396061 0.64347313 0.714248   0.79049969 0.8800597  1.
  0.89658514]
 [0.40466147 0.42159615 0.44229675 0.47229569 0.49199136 0.5146705
  0.55772647 0.60038386 0.66376155 0.7281383  0.79183809 0.89658514
  1.        ]]
-----------------------------------------------------------------
